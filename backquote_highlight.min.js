function bq_highlight(){for(var e=$("div.article > div p, div.article > div li, div.article > div div:not(:has(div,p))"),i=/``([0-9a-z\-]*)?(\s|(?:&nbsp;))?(.*?)``/g,r=0,n=e.length;n>r;r++)if(e[r].innerText.startsWith("```")){for(var a=r+1;n>a;a++)if(e[a].innerText.startsWith("```")){block_highlight(e,r,a),r=a;break}}else for(var t=e[r].innerHTML,c=i.exec(t),l="";c;){c[1]&&(l=c[1].substr(0,12));var v='<code class="language-'+l+'">'+c[3]+"</code>";e[r].innerHTML=e[r].innerHTML.replace(c[0],v),c=i.exec(t)}}function block_highlight(e,i,r){for(var n=e[i].innerText.substr(3,15),a=$('<div><pre><code class="language-'+n+'"></code></pre></div>'),t=$(a).children().children(),c=i+1;r>c;c++)t.append(e[c].innerHTML+"\n"),$(e[c]).remove();$(e[i]).after(a),$(e[i]).remove(),$(e[r]).remove()}